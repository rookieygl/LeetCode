# 如何设计高并发
高性能、高可用、可扩展
# 高可用
1. 系统的任何发布必须具有可回滚能力
2. 系统任何外部依赖必须准确衡量是否可降级，是否可无损降级，并提供降级开关
3. 系统对外暴露的接口必须配置好限流，限流值必须尽量准确可靠

kafka，Redis


## 秒杀场景
kafka可以缓解短时间内高流量压垮应用，把请求存起来
# 如何保证消息仅仅被消费一次
使用唯一ID保证消息唯一性
## 缓存穿透了怎么办
1. 回种空值
2. 布隆过滤器： 简单理解为 HASH + 数组
    先查布隆过滤器，如果不存在就直接返回空值，而不需要继续查询数据库和缓存，这样就可以极大地减少异常查询带来的缓存穿透
    

# 高性能
1. 提高系统的处理核心数
2. 减少单次任务响应时间

1. 事前：副本、隔离、配额、提前 预案、探知
2. 事发：监控、报警
3. 事中：降级、回滚、应急预案，failXXX系列
4. 事后：复盘、思考、技改

# kafka
消费延迟
# 数据库/数据仓库
ETL(Extract-Transform-Load,抽取-转换-存储)

数据库：传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易

数据仓库：数据仓库系统的主要应用主要是OLAP（On-Line Analytical Processing），支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果
# MongoDB和ES的区别
